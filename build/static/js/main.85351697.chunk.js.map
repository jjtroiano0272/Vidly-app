{"version":3,"sources":["components/counter.jsx","components/counters.jsx","services/logService.js","services/httpService.js","services/genreService.js","services/movieService.js","utils/paginate.js","components/common/like.jsx","services/authService.js","components/common/tableHeader.jsx","components/common/tableBody.jsx","components/common/table.jsx","components/moviesTable.jsx","components/common/listGroup.jsx","components/common/pagination.jsx","components/common/searchBox.jsx","components/movies.jsx","components/navbar.jsx","components/customers.jsx","components/rentals.jsx","components/common/input.jsx","components/common/select.jsx","components/common/form.jsx","components/movieForm.jsx","components/common/dropdown.jsx","services/userService.js","components/registerForm.jsx","components/loginForm.jsx","components/logout.jsx","components/notFound.jsx","components/common/protectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["Counter","styles","fontSize","fontWeight","prevProps","prevState","console","log","counter","value","this","props","classes","state","tags","length","style","listStyleType","map","tag","Fragment","className","getBadgeClasses","formatCount","onClick","onIncrement","onDecrement","disabled","onDelete","id","Component","init","error","axios","defaults","baseURL","process","interceptors","response","use","status","logger","toast","Promise","reject","get","post","put","delete","setJWT","jwt","headers","common","getGenres","http","apiEndpoint","movieURL","getMovie","movieId","a","saveMovie","movie","_id","body","deleteMovie","paginate","items","pageNum","pageSize","startIndex","_","slice","take","Like","liked","icon","faHeart","cursor","outlineHeart","React","tokenKey","email","password","data","localStorage","setItem","getJWT","getItem","login","loginWithJWT","logout","removeItem","getCurrentUser","jwtDecode","ex","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","key","faSortUp","faSortDown","columns","scope","label","TableBody","renderCell","item","content","createKey","Table","MoviesTable","Link","to","title","onLike","deleteColumn","faTrash","user","auth","isAdmin","push","movies","ListGroup","textProperty","valueProperty","selectedItem","onItemSelect","defaultProps","Pagination","itemsCount","currentPage","onPageChange","pagesCount","Math","ceil","pages","range","page","SearchBox","onChange","type","name","placeholder","e","currentTarget","Movies","genres","searchQuery","selectedGenre","handleDelete","originalMovies","filter","m","setState","handleLike","index","indexOf","handlePageChange","handleGenreSelect","genre","handleSort","handleSearch","query","getPageData","allMovies","filtered","toLowerCase","startsWith","orderBy","totalCount","NavBar","NavLink","Customers","Rentals","Input","rest","htmlFor","Select","options","option","Form","errors","validate","Joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","MovieForm","genreId","numberInStock","dailyRentalRate","string","required","number","min","max","history","match","params","mapToViewModel","replace","populateGenres","populateMovie","onSubmit","renderInput","renderSelect","renderButton","Dropdown","defaultMessage","selected","register","username","RegisterForm","userService","window","location","LoginForm","from","pathname","Redirect","Logout","NotFound","role","ProtectedRoute","component","render","Route","App","counters","handleReset","c","handleIncrement","handleDecrement","counterId","Switch","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","REACT_APP_NAME","ReactDOM","BrowserRouter","document","getElementById"],"mappings":"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","file":"static/js/main.85351697.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Counter extends Component {\n  // Functions in JS ARE OBJECTS\n  // constructor() {\n  // \tsuper();\n  // \tthis.handleIncrement = this.handleIncrement.bind(this);\n  // }\n  // state includes data local/private to that component\n\n  styles = {\n    fontSize: 14,\n    fontWeight: 'bold',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('previous props: ', prevProps);\n    console.log('previous state: ', prevState);\n\n    if (prevProps.counter.value !== this.props.counter.value) {\n      // Ajax call & get new data from server\n    }\n  }\n\n  componentWillUnmount() {\n    console.log('Counter - UNmounted.');\n  }\n\n  getBadgeClasses() {\n    let classes = 'badge align-center m-2 badge-';\n    classes += this.props.counter.value === 0 ? 'warning' : 'primary';\n    return classes;\n  }\n\n  formatCount() {\n    const { value } = this.props.counter;\n    return value === 0 ? 'Zero' : value;\n  }\n\n  onDelete() {}\n\n  renderTags() {\n    if (this.state.tags.length === 0) return <p>'N'il ya pas des tagues!'</p>;\n\n    return (\n      <ul style={{ listStyleType: 'none' }}>\n        {this.state.tags.map((tag) => (\n          <li key={tag}>{tag}</li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    console.log('Counter - rendered');\n\n    return (\n      <React.Fragment>\n        <div className='row'>\n          <div className='col-1 mx-auto'>\n            {/* TODO: Counter (variable size) */}\n            <span style={this.styles} className={this.getBadgeClasses()}>\n              {this.formatCount()}\n            </span>\n          </div>\n          <div className='col'>\n            {/* TODO: Buttons to right (static) */}\n            <button\n              //   onClick={() => this.props.onIncrement(this.props.counter)}\n              onClick={() => this.props.onIncrement(this.props.counter)}\n              className='btn btn-secondary btn-sm'\n            >\n              +\n            </button>\n            {/* TODO: Decrement button */}\n            <button\n              onClick={() => this.props.onDecrement(this.props.counter)}\n              className='btn btn-secondary btn-sm m-2'\n              disabled={this.props.counter.value === 0 ? 'disabled' : ''}\n            >\n              -\n            </button>\n            <button\n              onClick={() => this.props.onDelete(this.props.counter.id)}\n              className='btn btn-danger btn-sm m-2'\n            >\n              Delete\n            </button>\n            {/* A 'truthy' expression: if the first n operands are true, the final one is evaulated.\n                         Strings in JS are truthy as well as numbers > 0. */}\n            {/* {this.state.tags.length === 0 && 'Please create a new tag.'}\n            {this.renderTags()} */}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Counter;\n","import React, { Component } from 'react';\nimport Counter from './counter';\n\nclass Counters extends Component {\n  render() {\n    console.log('Counters - rendered');\n    const { onReset, counters, onDelete, onIncrement, onDecrement } =\n      this.props;\n\n    return (\n      <div>\n        <button onClick={onReset} className='btn btn-primary btn-sm m-2'>\n          Reset\n        </button>\n        {counters.map((counter) => (\n          <Counter\n            key={counter.id}\n            onDelete={onDelete}\n            onIncrement={onIncrement}\n            onDecrement={onDecrement}\n            counter={counter}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Counters;\n","import Raven from 'raven-js';\n\nfunction init() {\n  // Raven.config(\n  //   'https://1841f983764e4ffc934316f0d968605e@o1034187.ingest.sentry.io/6000755',\n  //   { release: '1-0-0', environment: 'development-test' }\n  // ).install();\n}\n\nfunction log(error) {\n  // Raven.captureException(error);\n\n  console.error(error);\n}\n\nexport default {\n  init,\n  log,\n};\n","import axios from 'axios';\nimport logger from './logService';\nimport { toast } from 'react-toastify';\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error('Unexpected error occurred.');\n  }\n\n  return Promise.reject(error);\n});\n\nfunction setJWT(jwt) {\n  axios.defaults.headers.common['x-auth-token'] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJWT,\n};\n","import http from './httpService';\n// import { apiURL } from '../config.json';\n\n// In order to use filter() genres MUST be an array\nexport function getGenres() {\n  return http.get('/genres');\n}\n","import http from './httpService';\nimport { getGenres } from './genreService';\n// import { apiURL } from '../config.json';\n\nconst apiEndpoint = '/movies';\n\nfunction movieURL(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getMovies() {\n  return http.get(apiEndpoint);\n}\n\nexport async function getMovie(movieId) {\n  return http.get(movieURL(movieId));\n}\n\nexport async function saveMovie(movie) {\n  if (movie._id) {\n    const body = { ...movie };\n    delete body._id;\n\n    return http.put(movieURL(movie._id), body);\n  }\n\n  // Otherwise we're dealing with a new movie\n  return http.post(apiEndpoint, movie);\n}\n\nexport function deleteMovie(movieId) {\n  return http.delete(movieURL(movieId));\n}\n","import _ from 'lodash';\n\nexport function paginate(items, pageNum, pageSize) {\n  const startIndex = (pageNum - 1) * pageSize;\n\n  // 1) Converts items array to a loDash wrapper with _(items)\n  // 2) Start from an index then\n  // 3) Take everything til the end of array and\n  // 4) Return it back with .value()\n  // prettier-ignore\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { faHeart as outlineHeart } from '@fortawesome/free-regular-svg-icons';\n\n// Input liked or not?\n// Output: raise an onClick event\n\nclass Like extends React.Component {\n  render() {\n    return !this.props.liked ? (\n      <FontAwesomeIcon\n        onClick={this.props.onClick}\n        icon={outlineHeart}\n        style={{ cursor: 'pointer' }}\n      />\n    ) : (\n      <FontAwesomeIcon\n        onClick={this.props.onClick}\n        icon={faHeart}\n        style={{ cursor: 'pointer' }}\n      />\n    );\n  }\n}\n\nexport default Like;\n","import jwtDecode from 'jwt-decode';\nimport http from './httpService';\n// import { apiURL } from '../config.json';\n\n// const apiEndpoint = `${apiURL}/auth`;\nconst apiEndpoint = '/auth';\nconst tokenKey = 'token';\n\nhttp.setJWT(getJWT());\n\nexport async function login(email, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { email, password });\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function loginWithJWT(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport function getJWT() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport default {\n  login,\n  loginWithJWT,\n  logout,\n  getCurrentUser,\n  getJWT,\n};\n","import React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSortUp, faSortDown } from '@fortawesome/free-solid-svg-icons';\n// import { faHeart as outlineHeart } from '@fortawesome/free-regular-svg-icons';\n// Use as <FontAwesomeIcon icon={faSort}\n\n// cols: array\n// this.props destruct sortColumn, onSort\n// const { sortColumn, onSort } = this.props;\n\nclass TableHeader extends Component {\n  raiseSort = (path) => {\n    const sortColumn = { ...this.props.sortColumn };\n\n    if (sortColumn.path === path)\n      sortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc';\n    else {\n      sortColumn.path = path;\n      sortColumn.order = 'asc';\n    }\n\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = (column) => {\n    const { sortColumn } = this.props;\n\n    if (\n      column.path !== sortColumn.path ||\n      column.key === 'like' ||\n      column.key === 'delete'\n    )\n      return null;\n    if (sortColumn.order === 'asc') return <FontAwesomeIcon icon={faSortUp} />;\n\n    return <FontAwesomeIcon icon={faSortDown} />;\n  };\n\n  render() {\n    return (\n      <thead>\n        <tr>\n          {this.props.columns.map((column) => (\n            <th\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n              scope='col'\n              className={column.key === 'delete' ? 'col-4' : 'col-4 clickable'}\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item._id + (column.path || column.key);\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map((item) => (\n          <tr key={item._id}>\n            {columns.map((column) => (\n              <td key={this.createKey(item, column)}>\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React, { Component } from 'react';\nimport TableHeader from './tableHeader';\nimport TableBody from './tableBody';\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className='table table-responsive-sm table-striped table-hover'>\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n      <TableBody columns={columns} data={data} />\n    </table>\n  );\n};\n\nexport default Table;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Like from './common/like';\nimport auth from '../services/authService';\n// HOW TO USE FONTAWESOME WITH REACT\n// https://fontawesome.com/v5.15/how-to-use/on-the-web/using-with/react\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport Table from './common/table';\n// import sort icon\n// outline when unliked, solid when liked\n\nclass MoviesTable extends Component {\n  columns = [\n    {\n      path: 'title',\n      label: 'Title',\n      content: (movie) => (\n        <Link to={`/movies/${movie._id}`}>{movie.title} </Link>\n      ),\n    },\n    { path: 'genre.name', label: 'Genre' },\n    { path: 'numberInStock', label: 'Stock' },\n    { path: 'dailyRentalRate', label: 'Rate' },\n    {\n      key: 'like',\n      content: (movie) => (\n        <Like liked={movie.liked} onClick={() => this.props.onLike(movie)} />\n      ),\n    },\n  ];\n\n  deleteColumn = {\n    key: 'delete',\n    content: (movie) => (\n      <button\n        className='btn btn-danger btn-sm'\n        onClick={() => this.props.onDelete(movie)}\n      >\n        <FontAwesomeIcon icon={faTrash} />\n      </button>\n    ),\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser();\n    if (user && user.isAdmin) this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { columns } = this;\n    const { movies, onSort, sortColumn } = this.props;\n\n    return (\n      <Table\n        columns={columns}\n        data={movies}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default MoviesTable;\n","import React, { Component } from 'react';\nimport { getGenres } from '../../services/fakeGenreService';\n\nconst ListGroup = ({\n  items,\n  textProperty,\n  valueProperty,\n  selectedItem,\n  onItemSelect,\n}) => {\n  return (\n    <ul className='list-group cursor-pointer clickable col-xs-12 col-sm-12 mb-3 d-flex'>\n      {items.map((item) => (\n        <li\n          onClick={() => onItemSelect(item)}\n          key={item[valueProperty]}\n          className={\n            item === selectedItem\n              ? 'list-group-item list-group-item-action active'\n              : 'list-group-item list-group-item-action'\n          }\n        >\n          {item[textProperty]}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nListGroup.defaultProps = {\n  textProperty: 'name',\n  valueProperty: '_id',\n};\n\nexport default ListGroup;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\n// What data does this component need?\n// What events will it raise\n// Bootstrap pagination component\n\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\n  console.log('Current page', currentPage);\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  const pages = _.range(1, pagesCount + 1);\n\n  return pagesCount === 1 ? null : (\n    <nav>\n      <ul className='pagination'>\n        {pages.map((page) => (\n          <li\n            key={page}\n            className={page === currentPage ? 'page-item active' : 'page-item'}\n          >\n            <a onClick={() => onPageChange(page)} className='page-link'>\n              {page}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  // props and types for our component and if they req'd\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React from 'react';\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type='text'\n      name='query'\n      className='form-control my-3'\n      placeholder='Search movies [Ctrl + /]'\n      value={value}\n      onChange={(e) => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getMovies, deleteMovie } from '../services/movieService';\nimport { getGenres } from '../services/genreService';\nimport { paginate } from '../utils/paginate';\nimport MoviesTable from './moviesTable';\nimport ListGroup from './common/listGroup';\nimport Pagination from './common/pagination';\nimport SearchBox from './common/searchBox';\nimport _ from 'lodash';\nimport '../../node_modules/font-awesome/css/font-awesome.min.css';\nimport auth from '../services/authService';\n\nclass Movies extends Component {\n  state = {\n    movies: [],\n    genres: [],\n    currentPage: 1,\n    pageSize: 4,\n    searchQuery: '',\n    selectedGenre: null,\n    sortColumn: { path: 'title', order: 'asc' },\n  };\n\n  async componentDidMount() {\n    const { data } = await getGenres();\n    const genres = [{ _id: '', name: 'All Genres' }, ...data];\n\n    const { data: movies } = await getMovies();\n    this.setState({ movies, genres });\n  }\n\n  handleDelete = async (movie) => {\n    const originalMovies = this.state.movies;\n    const movies = originalMovies.filter((m) => m._id !== movie._id);\n    this.setState({ movies });\n\n    try {\n      await deleteMovie(movie._id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        toast.error('This movie has already been deleted!');\n\n      this.setState({ movies: originalMovies });\n    }\n  };\n\n  handleLike = (movie) => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(movie);\n    movies[index] = { ...movies[index] };\n    movies[index].liked = !movies[index].liked;\n    this.setState({ movies });\n  };\n\n  handlePageChange = (page) => {\n    this.setState({ currentPage: page });\n  };\n\n  handleGenreSelect = (genre) => {\n    this.setState({ selectedGenre: genre, searchQuery: '', currentPage: 1 });\n  };\n\n  handleSort = (sortColumn) => {\n    this.setState({ sortColumn });\n  };\n\n  handleSearch = (query) => {\n    this.setState({ searchQuery: query, selectedGenre: null, currentPage: 1 });\n  };\n\n  getPageData = () => {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedGenre,\n      searchQuery,\n      movies: allMovies,\n    } = this.state;\n\n    // num pages should be based on num selectedmovies\n    // Filter, sort, then paginate\n    let filtered = allMovies;\n    if (searchQuery)\n      filtered = allMovies.filter((m) =>\n        m.title.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    else if (selectedGenre && selectedGenre._id)\n      filtered = allMovies.filter((m) => m.genre._id === selectedGenre._id);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], sortColumn.order);\n    const movies = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, data: movies };\n  };\n\n  render() {\n    const { length: moviesCount } = this.state.movies;\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      selectedGenre,\n      searchQuery,\n      movies: allMovies,\n    } = this.state;\n\n    // TODO: Add conditional logic to check status of jwt.\n    // This displays when you're logging out. Not great.\n    // if (moviesCount === 0) {\n    //   return <p className='text-muted'>There are no movies!</p>;\n    // }\n\n    const { totalCount, data: movies } = this.getPageData();\n\n    return (\n      <div className='row-md m-4'>\n        <ListGroup\n          items={this.state.genres}\n          selectedItem={this.state.selectedGenre}\n          onItemSelect={this.handleGenreSelect}\n        />\n        <hr />\n        {/* New Movie button */}\n        <Link to='/movies/new' className='btn btn-primary'>\n          New Movie\n        </Link>\n        <p className='text-muted'>\n          <small>\n            {/* If 'All Genres' is selected it doesn't write the genre.\n                  Otherwise it puts 'Showing {numb} {genre} movies */}\n            {/* TODO: using 'selectedGenre.name' here breaks the program because it cannot read\n            properties of null. To fix, try refactoring this somehow. Right now I just want it to function. */}\n            {/* {selectedGenre.name !== 'All Genres' ? selectedGenre.name : ''}{' '} */}\n            Showing {totalCount} movies in the database\n          </small>\n        </p>\n        <SearchBox value={searchQuery} onChange={this.handleSearch} />\n        <MoviesTable\n          movies={movies}\n          sortColumn={sortColumn}\n          onLike={this.handleLike}\n          onDelete={this.handleDelete}\n          onSort={this.handleSort}\n        />\n        <Pagination\n          itemsCount={totalCount}\n          pageSize={pageSize}\n          onPageChange={this.handlePageChange}\n          currentPage={currentPage}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Movies;\n","import React from 'react';\nimport { Link, NavLink, Route, Switch, Redirect } from 'react-router-dom';\n\nconst NavBar = ({ user }) => {\n  {\n    /* for products detail page */\n  }\n  {\n    /* <Route path='/products/:id' component={ProductDetails} />\n    <Route path='/products' component={Products} />\n    <Route path='/posts/:year?/:month?' component={Posts} />\n    <Route path='/admin' component={Dashboard} />\n    <Redirect from='/messages' to='/posts' />\n    <Route path='/not-found' component={NotFound} />\n    <Route path='/' exact component={Home} /> */\n  }\n  return (\n    // TODO: Dynamically named opacity class\n    <nav className='navbar navbar-expand-lg navbar-light bg-light o-80'>\n      {/* <Switch> */}\n      <Link className='navbar-brand' to='/'>\n        Vidly\n      </Link>\n      <button\n        className='navbar-toggler'\n        type='button'\n        data-toggle='collapse'\n        // data-target='#navbarSupportedContent'\n        data-target='#navbarNavAltMarkup'\n        aria-controls='navbarNavAltMarkup'\n        aria-expanded='false'\n        aria-label='Toggle navigation'\n      >\n        <span className='navbar-toggler-icon'></span>\n      </button>\n\n      <div className='collapse navbar-collapse' id='navbarNavAltMarkup'>\n        <div className='navbar-nav'>\n          <NavLink className='nav-item nav-link' to='/movies'>\n            Movies\n          </NavLink>\n          <NavLink className='nav-item nav-link' to='/customers'>\n            Customers\n          </NavLink>\n          <NavLink className='nav-item nav-link' to='/rentals'>\n            Rentals\n          </NavLink>\n          {/* No user logged in */}\n          {!user && (\n            <React.Fragment>\n              <NavLink className='nav-item nav-link' to='/login'>\n                Login\n              </NavLink>\n              <NavLink className='nav-item nav-link' to='/register'>\n                Register\n              </NavLink>\n            </React.Fragment>\n          )}\n          {/* For when we DO have a user */}\n          {user && (\n            <React.Fragment>\n              <NavLink className='nav-item nav-link' to='/profile'>\n                {/* {user.name} */}\n                My Profile\n              </NavLink>\n              <NavLink className='nav-item nav-link' to='/logout'>\n                Logout\n              </NavLink>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n      {/* </Switch> */}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React, { Component } from 'react';\n\nconst Customers = () => {\n  return <h1>Customers</h1>;\n};\n\nexport default Customers;\n","import React, { Component } from 'react';\nconst Rentals = () => {\n  return <h1>Rentals</h1>;\n};\n\nexport default Rentals;\n","import React, { Component } from 'react';\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className='form-group mb-3'>\n      <label htmlFor={name}>{label}</label>\n      <input {...rest} name={name} id={name} className='form-control' />\n      {error && <div className='alert alert-danger o-80'>{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React, { Component } from 'react';\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  return (\n    <div className='form-group'>\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className='form-control'>\n        <option value='' />\n        {options.map((option) => (\n          <option key={option._id} value={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className='alert alert-danger o-80'>{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './input';\nimport Select from './select';\n\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n\n    if (!error) return null;\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    return errors;\n  };\n\n  validateProperty = ({ name, value }) => {\n    // Whatever name is at run time will be used to set the key\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n\n    return error ? error.details[0].message : null;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    // If the error is in the username field\n    // if the name of the input field is username we set the username prop of the errors object\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n\n  renderButton(label) {\n    return (\n      <button\n        disabled={this.validate()}\n        // type='submit'\n        className='btn btn-primary'\n      >\n        {label}\n      </button>\n    );\n  }\n\n  renderSelect(name, label, options) {\n    const { data, errors } = this.state;\n\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      ></Select>\n    );\n  }\n\n  renderInput(name, label, type = 'text') {\n    const { data, errors } = this.state;\n    const { handleChange, handleSubmit } = this;\n\n    return (\n      <Input\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n}\n\nexport default Form;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Form from './common/form';\nimport { getMovie, saveMovie } from '../services/movieService';\nimport { getGenres } from '../services/genreService';\n\n// const MovieForm = ({ match, history }) => {\n//   return (\n//     <div>\n//       <h1>Movie Details {match.params.id} </h1>\n//       <button\n//         className='btn-btn-primary'\n//         onClick={() => history.push('/movies')}\n//       >\n//         Save\n//       </button>\n//     </div>\n//   );\n// };\nclass MovieForm extends Form {\n  state = {\n    data: { title: '', genreId: '', numberInStock: '', dailyRentalRate: '' },\n    genres: [],\n    errors: {},\n  };\n\n  // prettier-ignore\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string()\n      .required()\n      .label('Title'),\n    genreId: Joi.string()\n      .required()\n      .label('Genre'),\n    numberInStock: Joi.number()\n      .required()\n      .min(0)\n      .max(100)\n      .label('Number in Stock'),\n    dailyRentalRate: Joi.number()\n      .required()\n      .min(0)\n      .max(10)\n      .label('Daily Rental Rate'),\n  };\n\n  async populateGenres() {\n    const { data: genres } = await getGenres();\n    this.setState({ genres });\n  }\n\n  async populateMovie() {\n    try {\n      const movieId = this.props.match.params.id;\n      if (movieId === 'new') return;\n\n      const { data: movie } = await getMovie(movieId);\n      this.setState({ data: this.mapToViewModel(movie) });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace('/not-found');\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateGenres();\n    await this.populateMovie();\n  }\n\n  mapToViewModel(movie) {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInStock,\n      dailyRentalRate: movie.dailyRentalRate,\n    };\n  }\n\n  doSubmit = async () => {\n    await saveMovie(this.state.data);\n    this.props.history.push('/movies');\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Movie Form</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('title', 'Title')}\n          {this.renderSelect('genreId', 'Genre', this.state.genres)}\n          {this.renderInput('numberInStock', 'Number in Stock', 'number')}\n          {this.renderInput('dailyRentalRate', 'Rate')}\n          {this.renderButton('Save')}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default MovieForm;\n","// Soluton courtesy FotisTsakiris @\n// https://stackoverflow.com/questions/62974380/invalid-schema-content-error-for-drop-down-list-in-react\n\nimport React, { Component } from 'react';\nimport { getGenres } from '../../services/fakeGenreService';\n\n// const Dropdown = ({ error, label, name, options, ...rest }) => {\n//   return (\n//     <div>\n//       <div>{label}</div>\n//       <select\n//         {...rest}\n//         name={name}\n//         className='custom-select'\n//         id='inputGroupSelect04'\n//       >\n//         <option selected>Select a genre</option>\n//         {options.map((option) => (\n//           <option value={option}>{option}</option>\n//         ))}\n//       </select>\n//       {error && <div className='alert alert-danger'>{error}</div>}\n//     </div>\n//   );\n// };\n\nconst Dropdown = ({\n  label,\n  name,\n  defaultMessage,\n  items,\n  textProperty,\n  valueProperty,\n}) => {\n  return (\n    <div>\n      <div>{label}</div>\n      <select name={name} className='custom-select' id='inputGroupSelect04'>\n        <option selected>{defaultMessage}</option>\n        {items.map((item) => (\n          <option\n            // value={item}\n            key={item[valueProperty]}\n          >\n            {item[textProperty]}\n          </option>\n        ))}\n      </select>\n      {/* It's a drop down box not a free-form input so error doesn't make sense. */}\n      {/* {error && <div className='alert alert-danger'>{error}</div>} */}\n    </div>\n  );\n};\n\nDropdown.defaultProps = {\n  textProperty: 'name',\n  valueProperty: '_id',\n};\n\nexport default Dropdown;\n","// To register, delete, or get info about a user\n\nimport http from './httpService';\n// import { apiURL } from '../config.json';\n\nconst apiEndpoint = '/users';\n\nexport function register(user) {\n  return http.post(apiEndpoint, {\n    email: user.username,\n    password: user.password,\n    name: user.name,\n  });\n}\n","import React, { Component } from 'react';\nimport Form from './common/form';\nimport Joi from 'joi-browser';\nimport * as userService from '../services/userService';\nimport auth from '../services/authService';\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: '', password: '', name: '' },\n    errors: {},\n  };\n\n  schema = {\n    username: Joi.string().required().label('Username'),\n    password: Joi.string().required().min(8).label('Password'),\n    name: Joi.string().required().label('Name'),\n  };\n\n  componentDidMount() {\n    // Focuses on this field as soon as page/component loads\n    // TODO:\n    // this.username.current.focus();\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  // prettier-ignore\n  doSubmit = async () => {\n    try {\n      const response = await userService.register(this.state.data);\n      auth.loginWithJWT(response.headers['x-auth-token']);\n      window.location = '/';\n    } \n    catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className='container col-xs-12 col-lg-6'>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('username', 'Username', 'email')}\n          {this.renderInput('password', 'Password', 'password')}\n          {this.renderInput('name', 'Name')}\n          {this.renderButton('Register')}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Form from './common/form';\nimport Joi from 'joi-browser';\nimport auth from '../services/authService';\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: '', password: '' },\n    errors: {},\n  };\n\n  schema = {\n    username: Joi.string().required().label('Username'),\n    password: Joi.string().required().min(8).label('Password'),\n  };\n\n  // Old code\n  // username = React.createRef();\n\n  componentDidMount() {\n    // Focuses on this field as soon as page/component loads\n    // this.username.current.focus();\n  }\n\n  doSubmit = async () => {\n    try {\n      const { data } = this.state;\n      await auth.login(data.username, data.password);\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : '/';\n    } catch (ex) {\n      // prettier-ignore\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  // prettier-ignore\n  render() {\n    if (auth.getCurrentUser()) { return <Redirect to='/' />; }\n\n    return (\n      <div className='container col-xs-12 col-lg-6'>\n        <h1>Login</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('username', 'Username')}\n          {this.renderInput('password', 'Password', 'password')}\n          {this.renderButton('Login')}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\nimport auth from '../services/authService';\n\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = '/';\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound = () => {\n  return (\n    <div className='container h-100'>\n      <div className='row h-100 justify-content-center align-items-center'>\n        <div className='col my-auto text-center'>\n          <h1>Ya Done Goofed!</h1>\n          <p className='mb-5'>\n            Ain't shit changed, but also <strong>ain't shit found</strong>\n          </p>\n          <Link className='btn btn-primary btn-lg' to='/' role='button'>\n            HOME\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { Component } from 'react';\nimport auth from '../../services/authService';\nimport { Route, Redirect } from 'react-router-dom';\nimport { log } from 'joi-browser';\n\nconst ProtectedRoute = ({ path, component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        console.log(props);\n        if (!auth.getCurrentUser())\n          // prettier-ignore\n          return (\n            <Redirect to={{ \n              pathname: '/login', \n              state: { from: props.location } \n            }} />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { Component } from 'react';\nimport { Redirect, Route, Switch, Router } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport Counters from './components/counters';\nimport Movies from './components/movies';\nimport NavBar from './components/navbar';\nimport Customers from './components/customers';\nimport Rentals from './components/rentals';\nimport MovieForm from './components/movieForm';\nimport NewMovieForm from './components/newMovieForm';\nimport RegisterForm from './components/registerForm';\nimport LoginForm from './components/loginForm';\nimport Logout from './components/logout';\nimport NotFound from './components/notFound';\nimport ProtectedRoute from './components/common/protectedRoute';\nimport auth from './services/authService';\nimport './App.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'font-awesome/css/font-awesome.css';\n\nclass App extends Component {\n  state = {\n    counters: [\n      { id: 1, value: 4 },\n      { id: 2, value: 0 },\n      { id: 3, value: 0 },\n      { id: 4, value: 0 },\n    ],\n  };\n\n  constructor() {\n    super();\n    console.log('App - constructor');\n  }\n\n  componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({ user });\n  }\n\n  handleReset = () => {\n    const counters = counters.map((c) => {\n      c.value = 0;\n      return c;\n    });\n    this.setState({ counters });\n  };\n\n  handleIncrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counter };\n    counters[index].value++;\n    this.setState({ counters });\n  };\n\n  handleDecrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counter };\n    counters[index].value--;\n    this.setState({ counters });\n  };\n\n  handleDelete = (counterId) => {\n    const counters = this.state.counters.filter((c) => c.id !== counterId);\n    this.setState({ counters });\n  };\n\n  render() {\n    console.log('App - rendered');\n    //   {/* To render counters app */}\n    //   <NavBar\n    //     totalCounters={this.state.counters.filter((c) => c.value > 0).length}\n    //   />\n    //   <main className='container'>\n    //     <Counters\n    //       counters={this.state.counters}\n    //       onReset={this.handleReset}\n    //       onIncrement={this.handleIncrement}\n    //       onDecrement={this.handleDecrement}\n    //       onDelete={this.handleDelete}\n    //     />\n\n    //     <Movies />\n    //   </main>\n\n    const { user } = this.state;\n\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar user={user} />\n        <main className='container'>\n          <Switch>\n            {/* <Route path='/movies/new' component={NewMovieForm} /> */}\n            <ProtectedRoute path='/movies/:id' component={MovieForm} />\n            <Route path='/login' component={LoginForm} />\n            <Route path='/logout' component={Logout} />\n            <Route\n              path='/movies'\n              render={(props) => <Movies {...props} user={user} />}\n            />\n            <Route path='/customers' component={Customers} />\n            <Route path='/rentals' component={Rentals} />\n            <Route path='/register' component={RegisterForm} />\n            <Route path='/not-found' component={NotFound} />\n            <Redirect from='/' exact to='/movies' />\n            <Redirect to='/not-found'></Redirect>\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\n// TODO: May not be necessary...\nimport 'bootstrap/dist/js/bootstrap';\nimport 'font-awesome/css/font-awesome.css';\nimport { BrowserRouter } from 'react-router-dom';\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconsole.log('SUPERMAN', process.env.REACT_APP_NAME);\n\nReactDOM.render(\n  // <React.StrictMode>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}